# GraphRAG クエリ例

## 1. ローカル検索 (Local Search)

特定のエンティティや概念の詳細情報を取得する検索モード。

### 例1: 概念の定義
```
質問: GraphRAGとは何ですか？
モード: local
期待される回答: GraphRAGの定義、特徴、構成要素の説明
```

### 例2: パラメータの詳細
```
質問: GraphRAGのchunk_sizeパラメータの推奨値と影響は？
モード: local
期待される回答: chunk_sizeの説明、推奨範囲、精度への影響
```

### 例3: 手法の詳細
```
質問: Self-Attention機構の計算過程を説明してください
モード: local
期待される回答: Query, Key, Value の計算、スコアリング、重み付け
```

### 例4: 比較
```
質問: TransformerとLSTMの違いは何ですか？
モード: local
期待される回答: 並列処理、長距離依存、計算効率の比較
```

---

## 2. グローバル検索 (Global Search)

広範なトピックの概要や要約を取得する検索モード。

### 例1: 分野概観
```
質問: 知識グラフを活用したRAGの研究動向を概説してください
モード: global
期待される回答: 主要なアプローチ、最新の手法、トレンド
```

### 例2: 文献レビュー
```
質問: 大規模言語モデルの効率化手法にはどのようなものがありますか？
モード: global
期待される回答: 量子化、蒸留、プルーニング等の概要
```

### 例3: 状況分析
```
質問: AI for Science における現在の課題は何ですか？
モード: global
期待される回答: データ、解釈可能性、計算資源等の課題
```

### 例4: トレンド分析
```
質問: 2024年のNLP研究の主要なトレンドは？
モード: global
期待される回答: マルチモーダル、長文脈、効率化等のトレンド
```

---

## 3. DRIFT検索 (Drift Search)

探索的な質問や関連情報の発見に使用する検索モード。

### 例1: 関連発見
```
質問: GraphRAGに関連する興味深い研究トピックを教えてください
モード: drift
期待される回答: 関連する研究方向、発展可能性、組み合わせ
```

### 例2: アイデア探索
```
質問: 論文要約の自動化を改善するためのアプローチは？
モード: drift
期待される回答: 既存手法の組み合わせ、新しいアプローチ
```

### 例3: 問題解決
```
質問: RAGの検索精度が低い場合の改善策を探りたい
モード: drift
期待される回答: リランキング、クエリ拡張、ハイブリッド検索等
```

---

## 4. 自動モード選択 (Auto)

クエリの性質に基づいて最適なモードを自動選択。

### ローカル検索が選択されるケース
- 「〜とは」「〜の定義」「〜について教えて」
- 特定の用語、人名、手法名を含む
- 詳細な説明を求める質問

### グローバル検索が選択されるケース
- 「概説」「まとめ」「動向」「トレンド」
- 広範なトピックについての質問
- 複数の手法の比較

### DRIFT検索が選択されるケース
- 「関連」「発見」「探索」「アイデア」
- オープンエンドな質問
- 創造的な回答を求める質問

---

## 5. 高度な使用例

### 複合クエリ
```
質問: GraphRAGとLazyGraphRAGを比較し、それぞれの適用シナリオを教えてください
実行順序:
1. graphrag_local: GraphRAGの詳細を取得
2. graphrag_local: LazyGraphRAGの詳細を取得
3. 結果を比較して回答を生成
```

### 段階的探索
```
初期質問: RAGの最新手法を知りたい
1. graphrag_global: RAG手法の概要を取得
2. graphrag_local: 興味のある手法の詳細を取得
3. graphrag_drift: 関連するトピックを探索
```

### 知識統合
```
質問: 実験EXP-2026-01-28-001の結果と関連論文の知見を統合してください
実行順序:
1. experiment_search: 実験データを取得
2. graphrag_query: 関連論文の知識を検索
3. 統合した洞察を生成
```

---

## 6. トラブルシューティング

### 検索結果が不十分な場合
1. クエリを具体化する
2. 関連キーワードを追加する
3. 別のモードを試す
4. インデックスを更新する（`graphrag_index`）

### 応答が不正確な場合
1. ソースを確認する
2. 複数のクエリで検証する
3. ローカル検索で詳細を確認する

### パフォーマンスが遅い場合
1. クエリを簡潔にする
2. max_results を減らす
3. community_level を調整する
